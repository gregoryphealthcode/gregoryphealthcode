<div *dxTemplate="let data of 'popupContent'" class="popup-wrapper">
  <app-pop-up-form-title [title]="isNew ? 'Add Insurer' : 'Edit Insurer'" (closed)="closeForm()"></app-pop-up-form-title>
  
  <div class="central-popup-wrapper">
    <div class="central-popup-body" appEnterKeyFocusWrapper delay="750" [formGroup]="editForm"
      style="overflow: hidden;">
      <app-select-box [dataSource]="insurers" direction="row" formControlName="insurerId" valueExpr="insurerId"
        displayExpr="insurerName" caption="Insurer" [disabled]="!isNew">
      </app-select-box>

      <app-select-box [dataSource]="addressTypes" direction="row" formControlName="addressType" valueExpr="id"
        displayExpr="value" caption="Type">
      </app-select-box>

      <div class="d-flex flex-row a-form-group d-row w-100">
        <label>Postcode *</label>

        <app-postcode-to-address #postcoderesolver formControlName="postcode"
          (addressSelect)="postcodeResolverAddressSelectHandler($event)" class="d-flex flex-row w-50">
        </app-postcode-to-address>
      </div>

      <app-text-box formControlName="address1" direction="row" caption="Address 1" [capitalizeEachWord]="true">
      </app-text-box>

      <app-text-box formControlName="address2" direction="row" caption="Address 2" [capitalizeEachWord]="true">
      </app-text-box>

      <app-text-box formControlName="address3" direction="row" caption="Address 3" [capitalizeEachWord]="true">
      </app-text-box>

      <app-text-box formControlName="address4" class="mb-0" direction="row" caption="Address 4"
        [capitalizeEachWord]="true"></app-text-box>
    </div>

    <!-- Footer -->
    <div class="popup-form-footer-wrapper">
      <app-button text="Close" class="ml-auto mr-3" (clicked)="closeForm()" color="grey"></app-button>

      <app-button text="Save" (clicked)="submitForm()" [disabled]="!editForm.valid"></app-button>
    </div>
  </div>
</div>