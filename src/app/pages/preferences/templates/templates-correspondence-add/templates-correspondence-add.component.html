<div class="d-flex flex-column responsive-margins flex-grow-1 flex-auto top-row-height mt-2" [formGroup]="form"
  appEnterKeyFocusWrapper delay="750">
  <div class="d-flex flex-row">
    <div class="d-flex flex-column">
      <div class="d-flex flex-row  align-items-center px-0">
        <label for="inputEmail3" class="label-info short-label-width">Template Name *</label>

        <div class="field-width">
          <dx-text-box placeholder="Template Name" formControlName="templateName" (onInput)="firstLetterCaps($event)">
          </dx-text-box>
        </div>

        <ng-container
          *ngIf="form.controls['templateName'].invalid  && (form.controls['templateName'].dirty || form.controls['templateName'].touched)">
          <i class="fas fa-exclamation-triangle warning mx-2 " matTooltip="Template Name is required"
            *ngIf="form.controls['templateName'].hasError('required')"></i>
          <i class="fas fa-exclamation-triangle warning mx-2 " matTooltip="Max Length is exceeded"
            *ngIf="form.controls['templateName'].hasError('maxlength')"></i>
        </ng-container>
      </div>

      <div class="d-flex flex-row align-items-center mt-1">
        <label for="inputEmail3" class="label-info short-label-width">Comments </label>

        <div class="field-width">
          <dx-text-area placeholder="Comments" formControlName="comments" name="comments">
          </dx-text-area>
        </div>

        <ng-container
          *ngIf="form.controls['comments'].invalid  && (form.controls['comments'].dirty || form.controls['comments'].touched)">
          <i class="fas fa-exclamation-triangle warning mx-2 " matTooltip="Max length is exceeded"
            *ngIf="form.controls['comments'].hasError('maxlength')"></i>
        </ng-container>
      </div>

      <div class="d-flex flex-row align-items-center mt-1" *ngIf="!isEdit">
        <label for="inputEmail3" class="label-info short-label-width">Base Template On</label>

        <div class="field-width">
          <dx-select-box id="templateTypeId" formControlName="templateType" [dataSource]="templates" valueExpr="this"
            displayExpr="description" placeholder="Type">
          </dx-select-box>
        </div>
      </div>

      <div class="d-flex flex-row align-items-center mt-1">
        <label for="inputEmail3" class="label-info short-label-width">Template Category *</label>

        <div class="field-width">
          <dx-select-box id="templateTypeId" formControlName="templateCategory" [dataSource]="categories"
            valueExpr="uniqueNo" displayExpr="description" placeholder="Type">
          </dx-select-box>
        </div>

        <ng-container
          *ngIf="form.controls['templateType'].invalid  && (form.controls['templateType'].dirty || form.controls['templateType'].touched)">
          <i class="fas fa-exclamation-triangle warning mx-2 " matTooltip="Template Category is required"
            *ngIf="form.controls['templateType'].hasError('required')"></i>
        </ng-container>
      </div>

      <div class="d-flex flex-row align-items-center mt-1" *ngIf="showCatTypes">
        <label for="inputEmail3" class="label-info short-label-width">Category Type</label>

        <div class="field-width">
          <dx-select-box id="templateTypeId" formControlName="categoryType" [dataSource]="categoryTypes"
            valueExpr="uniqueNo" displayExpr="description" placeholder="Type">
          </dx-select-box>
        </div>
      </div>

      <div class="d-flex flex-row align-items-center mt-1">
        <label for="inputEmail3" class="label-info short-label-width">Default</label>

        <div class="field-width">
          <dx-check-box formControlName="default"> </dx-check-box>
        </div>
      </div>

      <div class="d-flex flex-row align-items-center mt-1">
        <label for="inputEmail3" class="label-info short-label-width">Use for patientzone</label>

        <div class="field-width">
          <dx-check-box formControlName="patientzone"> </dx-check-box>
        </div>
      </div>

      <div class="d-flex flex-row mt-4 mb-3 buttons-right">
        <button mat-button class="app-button primary grid-header-btn mr-2" [disabled]="!form.valid" *ngIf="!isEdit"
          (click)="save()">Save</button>

        <button mat-button class="app-button primary grid-header-btn mr-2" [disabled]="!form.valid" *ngIf="isEdit"
          (click)="update()">Update</button>

        <button mat-button class="app-button secondary grid-header-btn mx-1" (click)="discard()" *ngIf="!isEdit">Clear
          Form</button>
      </div>
    </div>
  </div>
</div>