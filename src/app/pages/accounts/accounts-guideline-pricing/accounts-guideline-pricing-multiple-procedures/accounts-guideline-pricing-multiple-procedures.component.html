<dx-popup appCentralPopUpSettings [width]="'500'" [enableScroll]="true">
    <div *dxTemplate="let data of 'popupContent'" class="popup-wrapper">

        <app-pop-up-form-title [hasBorder]="true" title="Multi Procedure Sets" (closed)="closePopup.emit()">
        </app-pop-up-form-title>

        <div class="central-popup-wrapper">
            <div class="central-popup-body" appEnterKeyFocusWrapper delay="750" [formGroup]="editForm">
                <app-select-box [dataSource]="procedureSets" direction="row" valueExpr="setId" displayExpr="description"
                    formControlName="procedureSets" caption="Sets">
                </app-select-box>

                <ng-container *ngIf="procedureSetDetails" class="d-flex flex-column">
                    <div *ngFor="let procedureSetDetail of procedureSetDetails" class="mb-3">
                        <div class="d-flex flex-row flex-grow-1 mb-1">
                            {{procedureSetDetail.proceduresCount == '1' ? procedureSetDetail.proceduresCount + ' Procedure' : procedureSetDetail.proceduresCount + ' Procedures'}}
                        </div>
    
                        <div *ngFor="let procedure of procedureSetDetail?.procedures" class="d-flex flex-row flex-grow-1 mb-1">                            
                            For the {{procedure.index == '1' ? '' : procedure.index == '2' ? '2nd' : procedure.index == '3' ? '3rd' : procedure.index + 'th' }} highest procedure take {{procedure.percentage}}% of the {{procedure.value}} procedure(s). 
                        </div>
                    </div>      
                </ng-container>
            </div>

            <!-- Footer -->
            <div class="popup-form-footer-wrapper">
                <app-button text="Close" class="ml-auto mr-3" (clicked)="closePopup.emit()" color="grey"></app-button>
            </div>
        </div>
    </div>
</dx-popup>