<dx-popup appCentralPopUpSettings [width]="'380'" *ngIf="show" [enableScroll]="true"
  (onInitialized)="appInfo.disableESC($event)">
  <div *dxTemplate="let data of 'popupContent'" class="popup-wrapper">
    <app-pop-up-form-title title="Patient Allergy" (closed)="closeForm()"></app-pop-up-form-title>

    <div class="central-popup-wrapper">
      <div class="central-popup-body" appEnterKeyFocusWrapper delay="750" [formGroup]="editForm">
        <app-select-box [dataSource]="source" direction="row" formControlName="allergyCode" valueExpr="allergyCode"
          displayExpr="allergen" caption="Allergen"></app-select-box>

        <app-select-box [dataSource]="types" direction="row" formControlName="allergyTypeId" valueExpr="allergyTypeId"
          displayExpr="allergyType" caption="Type"></app-select-box>

        <app-select-box [dataSource]="severities" direction="row" formControlName="allergySeverityId"
          valueExpr="allergySeverityId" displayExpr="allergySeverity" caption="Severity"></app-select-box>

        <app-text-area-box formControlName="notes" direction="row" caption="Notes" class="text-area-height">
        </app-text-area-box>
      </div>

      <!-- Footer -->
      <div class="popup-form-footer-wrapper">
        <app-button text="Close" class="ml-auto mr-3" (clicked)="closeForm()" color="grey"></app-button>

        <app-button text="Save" (clicked)="submitForm()" [disabled]="!editForm.valid"></app-button>
      </div>
    </div>
  </div>
</dx-popup>