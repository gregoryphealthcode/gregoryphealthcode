<div class="d-flex flex-row align-items-center">
  <span class="label-info short-label-width">Insurers</span>
</div>

<div *ngFor="let item of insurers" class="d-flex flex-row small-card-wrapper insurer-wrapper">
  <div class="d-flex flex-column">
    <div class="d-flex flex-row align-items-center">
      <span class="mr-4 card-title">{{item.insurerName}}</span>
      <span class="primary-insurer mt-1" *ngIf="item.isPrimary">Primary</span>
    </div>

    <div class="d-flex flex-row mt-1">
      <span class="insurer-info">Membership Number: </span><span
        *ngIf="item.registrationNumber">{{item.registrationNumber}}</span>
    </div>
  </div>

  <div class="d-flex flex-row ml-auto">
    <app-button (click)="editInsurer(item)" type="link" icon="fad fa-edit"></app-button>
    <app-button (click)="removeInsurer(item)" type="link" icon="fad fa-trash"></app-button>
  </div>
</div>

<button mat-button class="app-button secondary grid-header-btn short-label-width mt-3 mr-auto"
  (click)="openAddInsurerPopup()" matTooltip="Add Insurer">
  <span>Add Insurer</span>
</button>

<dx-popup appCentralPopUpSettings *ngIf="showAddEditInsurer" [width]="'380'" [enableScroll]="true">
  <div *dxTemplate="let data of 'popupContent'" class="popup-wrapper">
    <app-pop-up-form-title [hasBorder]="true" [title]="isNewInsurer ? 'Add Insurer' : 'Edit Insurer'"
      (closed)="showAddEditInsurer = false" (onInitialized)="appInfo.disableESC($event)"></app-pop-up-form-title>

    <app-patient-insurers-edit class="central-popup-wrapper" [isNew]="isNewInsurer" [isNewPatient]="isNewPatient"
      [insurerDetails]="viewModel" (formClosed)="showAddEditInsurer = false" [commitOnSave]="false"
      (saved)="saveInsurerHandler($event)">
    </app-patient-insurers-edit>
  </div>
</dx-popup>